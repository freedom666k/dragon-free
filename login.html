<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - DRAGON COIN</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Cairo',sans-serif;transition:0.3s;}
body{background-color:#0d1117;color:#fff;display:flex;justify-content:center;align-items:center;height:100vh;}
.container{background:#161b22;padding:30px;border-radius:15px;width:90%;max-width:400px;text-align:center;box-shadow:0 0 15px rgba(0,0,0,0.4);border:1px solid #30363d;}
h1{color:#ff5555;margin-bottom:20px;}
input{width:100%;padding:12px;margin:8px 0;border:none;border-radius:8px;background:#21262d;color:#fff;}
input:focus{outline:none;border:1px solid #ff5555;}
button{width:100%;padding:12px;margin:10px 0;background:#ff5555;color:#fff;border:none;border-radius:8px;font-size:16px;cursor:pointer;}
button:hover{background:#cc4444;}
.linkBtn{background:#21262d;color:#fff;}
.linkBtn:hover{background:#30363d;}
.toggle,.langBtn{background-color:#21262d;margin-top:10px;color:#fff;}
.toggle:hover,.langBtn:hover{background-color:#30363d;}
.light-mode{background-color:#f4f4f4;color:#000;}
.light-mode .container{background:#fff;border-color:#ccc;color:#000;}
.light-mode input{background:#eee;color:#000;}
.light-mode button{background:#ff5555;color:#fff;}
.light-mode .toggle,.light-mode .langBtn{background-color:#ddd;color:#000;}
.light-mode h1{color:#ff5555;}
</style>
</head>
<body>
<div class="container">
  <h1 id="titleText">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
  <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <label style="display:flex;align-items:center;justify-content:left;font-size:14px;margin-top:5px;">
    <input type="checkbox" id="rememberMe" style="margin-right:5px;"> ØªØ°ÙƒØ±Ù†ÙŠ
  </label>
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  <button class="linkBtn" onclick="showRegister()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
  <button class="toggle" onclick="toggleMode()">ğŸŒ™ / â˜€ï¸</button>
  <button class="langBtn" onclick="toggleLanguage()">Ø¹ / E</button>
</div>

<script>
// Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†
let darkMode = localStorage.getItem('darkMode')==='true';
applyMode();

// Ø§Ù„Ù„ØºØ©
let lang = localStorage.getItem('lang') || 'ar';
applyLanguage();

// Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
let users = JSON.parse(localStorage.getItem('users')||'{}');

function login(){
  const user=document.getElementById('username').value.trim();
  const pass=document.getElementById('password').value;
  const remember=document.getElementById('rememberMe').checked;

  if(!user||!pass){alert(lang==='ar'?'Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„':'Please fill all fields'); return;}
  if(!users[user]){alert(lang==='ar'?'âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯':'User does not exist'); return;}
  if(users[user]!==pass){alert(lang==='ar'?'âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©':'Incorrect password'); return;}
  
  localStorage.setItem('username',user);
  localStorage.setItem('loggedIn','true');
  if(remember) localStorage.setItem('rememberedUser',user);
  window.location.href="dashboard.html";
}

function showRegister(){
  const user=prompt(lang==='ar'?'Ø§Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯':'Enter new username');
  if(!user){alert(lang==='ar'?'Ø§Ù„Ø§Ø³Ù… Ù†Ø§Ù‚Øµ':'Name missing'); return;}
  if(users[user]){alert(lang==='ar'?'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„':'Username already exists'); return;}
  const pass=prompt(lang==='ar'?'Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±':'Enter password');
  if(!pass){alert(lang==='ar'?'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù†Ø§Ù‚ØµØ©':'Password missing'); return;}
  const pass2=prompt(lang==='ar'?'Ø£ÙƒØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±':'Confirm password');
  if(pass!==pass2){alert(lang==='ar'?'ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©':'Passwords do not match'); return;}
  users[user]=pass;
  localStorage.setItem('users',JSON.stringify(users));
  alert(lang==='ar'?'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­':'Account created successfully');
}

function toggleMode(){darkMode=!darkMode;localStorage.setItem('darkMode',darkMode);applyMode();}
function applyMode(){if(darkMode){document.body.classList.remove('light-mode');}else{document.body.classList.add('light-mode');}}

// Ø§Ù„Ù„ØºØ©
function toggleLanguage(){lang=(lang==='ar')?'en':'ar';localStorage.setItem('lang',lang);applyLanguage();}
function applyLanguage(){
  if(lang==='ar'){
    document.getElementById('titleText').textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
  } else {
    document.getElementById('titleText').textContent='Login';
  }
}

// Ù„Ùˆ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªØ°ÙƒØ±
const remembered = localStorage.getItem('rememberedUser');
if(remembered){
  document.getElementById('username').value=remembered;
  document.getElementById('rememberMe').checked=true;
}
</script>
</body>
</html>